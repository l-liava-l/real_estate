{% extends 'frontend_docs/base.html' %}

{% block requirejs %}
require('authentication');
{% endblock requirejs %}

{% block content %}
<div class="container">
  <div class="row botom_line">
    <div class="col-lg-8">
      <h2>Тестирование авторизации через sessionid в url</h2>
      <p>{% url 'authentication:sessionid' %}</p>
      <p>Это нужно только для тестирования backend, в мобильном приложении не используется</p>
      <form id="js-test-cookie-form" role="form" data-url="{% url 'authentication:sessionid' %}">
        <div class="form-group">
          <label>sessionid</label>
          <input name="sessionid" type="text" class="form-control" placeholder="sessionid">
        </div>
        <button type="button" class="btn btn-primary js-get">GET</button>
        <button type="button" class="btn btn-success js-post">POST</button>
        <button type="button" class="btn btn-warning js-put">PUT</button>
        <button type="button" class="btn btn-danger js-delete">DELETE</button>
      </form>
    </div>
  </div>

  <div class="row botom_line">
    <div class="col-lg-5">
      <h2>Прелогин</h2>
      <p>{% url 'authentication:prelogin' %}</p>
      <p>Выслать sms с авторизацией на указанный номер телефон</p>
      <form id="js-prelogin-form" role="form" data-url="{% url 'authentication:prelogin' %}">
        <div class="form-group">
          <label>phone</label>
          <input type="phone" name="phone" class="form-control" placeholder="Введите номер телефона">
        </div>
        <button type="button" class="btn btn-primary js-get" disabled="disabled">GET</button>
        <button type="button" class="btn btn-success js-post">POST</button>
        <button type="button" class="btn btn-warning js-put" disabled="disabled">PUT</button>
        <button type="button" class="btn btn-danger js-delete" disabled="disabled">DELETE</button>
      </form>
    </div>
  </div>

  <div class="row botom_line">
    <div class="col-lg-12">
      <h2>Логин</h2>
      <p>{% url 'authentication:login' %}</p>
      <p>По номеру телефона и sms авторизовать пользователя. Если все верно в ответе придет sessionid, который</p>
      <p>необходимо добавлять ко всем запросам, которые требуют авторизации пользователя</p>
      <p>например: /some_url/?param1=foo& param2=bar&....&sessionid=<b>полученный_sessionid</b></p>
      <form id="js-login-form" role="form" data-url="{% url 'authentication:login' %}">
        <div class="form-group">
          <label>phone</label>
          <input name="phone" type="text" class="form-control" placeholder="Введите номер телефона">
        </div>
        <div class="form-group">
          <label>sms_code</label>
          <input name="sms_code" type="text" class="form-control" placeholder="SMS-code">
        </div>
        <button type="button" class="btn btn-primary js-get" disabled="disabled">GET</button>
        <button type="button" class="btn btn-success js-post">POST</button>
        <button type="button" class="btn btn-warning js-put" disabled="disabled">PUT</button>
        <button type="button" class="btn btn-danger js-delete" disabled="disabled">DELETE</button>
      </form>
    </div>
  </div>
</div>
{% endblock %}